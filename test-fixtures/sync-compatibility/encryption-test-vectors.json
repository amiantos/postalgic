{
  "description": "Test vectors for verifying AES-256-GCM encryption compatibility between iOS and Self-Hosted",

  "pbkdf2": {
    "description": "PBKDF2 key derivation test vectors",
    "algorithm": "PBKDF2-HMAC-SHA256",
    "iterations": 100000,
    "keyLength": 32,
    "vectors": [
      {
        "password": "test-password",
        "salt": "dGVzdC1zYWx0",
        "saltBase64": "dGVzdC1zYWx0",
        "expectedKeyHex": "a1b2c3d4e5f6..."
      }
    ]
  },

  "aesGcm": {
    "description": "AES-256-GCM encryption test vectors",
    "algorithm": "AES-256-GCM",
    "tagLength": 128,
    "vectors": [
      {
        "description": "Simple plaintext encryption",
        "plaintext": "Hello, World!",
        "keyHex": "0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef",
        "ivBase64": "dGVzdC1pdi0xMjM0",
        "note": "IV should be 12 bytes for GCM"
      }
    ]
  },

  "fullEncryption": {
    "description": "Full encryption flow test (password -> key -> ciphertext)",
    "vectors": [
      {
        "description": "Encrypt a draft post JSON",
        "password": "my-sync-password",
        "saltBase64": "cmFuZG9tLXNhbHQtaGVyZQ==",
        "plaintext": "{\"id\":\"test-draft\",\"title\":\"Draft Post\",\"content\":\"This is draft content.\"}",
        "note": "Both apps should be able to decrypt this with the same password"
      }
    ]
  },

  "interoperability": {
    "description": "Test that iOS-encrypted data can be decrypted by Self-Hosted and vice versa",
    "testCases": [
      {
        "name": "ios-to-selfhosted",
        "description": "Data encrypted by iOS should be decryptable by Self-Hosted"
      },
      {
        "name": "selfhosted-to-ios",
        "description": "Data encrypted by Self-Hosted should be decryptable by iOS"
      }
    ]
  },

  "notes": [
    "Both apps use AES-256-GCM for encryption",
    "PBKDF2 with SHA-256 is used for key derivation",
    "100,000 iterations for PBKDF2",
    "Salt should be randomly generated (16 bytes) and stored in manifest",
    "IV should be randomly generated (12 bytes) per file and stored in manifest",
    "The auth tag is appended to the ciphertext"
  ]
}
